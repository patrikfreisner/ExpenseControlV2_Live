"use strict";(self.webpackChunkExpensesControlV2=self.webpackChunkExpensesControlV2||[]).push([[639],{90639:(Ei,xe,m)=>{m.r(xe),m.d(xe,{MonthlyModule:()=>Si});var _=m(69808),L=m(68555),e=m(5e3),F=m(40520),I=m(94246);const G="https://ogridybihb.execute-api.us-east-1.amazonaws.com/V1";let ot=(()=>{class i{constructor(t,n){this.httpClient=t,this.cognitoService=n}databaseReadCommon(t){const n=this.cognitoService.getAuthToken()||"",s=(new F.WM).set("Authentication",n),a=t.getAWSLambdaQuery(),r="query="+encodeURIComponent(a.query)+"&att_names="+encodeURIComponent(a.att_names)+"&att_values="+encodeURIComponent(a.att_values);return this.httpClient.get(G+"/invokedatabasehandler?"+r,{headers:s})}databaseReadSecondaryIndex(t,n){const s=this.cognitoService.getAuthToken()||"",a=(new F.WM).set("Authentication",s),r=t.getAWSLambdaQuery(),c="query="+encodeURIComponent(r.query)+"&att_names="+encodeURIComponent(r.att_names)+"&att_values="+encodeURIComponent(r.att_values)+"&secondaryIndex="+encodeURIComponent(n);return this.httpClient.get(G+"/invokedatabasehandler?"+c,{headers:a})}databaseCreateCommon(t){const n=this.cognitoService.getAuthToken()||"",s=(new F.WM).set("Authentication",n);return this.httpClient.post(G+"/invokedatabasehandler",t,{headers:s})}databaseUpdateCommon(t){const n=this.cognitoService.getAuthToken()||"",s=(new F.WM).set("Authentication",n);return this.httpClient.put(G+"/invokedatabasehandler",t,{headers:s})}databaseDeleteCommon(t){const n=this.cognitoService.getAuthToken()||"",s=(new F.WM).set("Authentication",n),a="pk="+encodeURIComponent(t.pk)+"&sk="+encodeURIComponent(t.sk);return this.httpClient.delete(G+"/invokedatabasehandler?"+a,{headers:s})}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(F.eN),e.LFG(I.AP))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class ae{constructor(o){this.queryData=this.setQuery(o||{pk:"",sk:""})}setQuery(o){var t,n,s,a;if((null===(t=o.pk)||void 0===t?void 0:t.includes("*"))||(null===(n=o.originPk)||void 0===n?void 0:n.includes("*")))throw"QueryParams.setQuery(): Can't use operator '*' on primaryKey";if((null===(s=o.sk)||void 0===s?void 0:s.startsWith("*"))||(null===(a=o.originSk)||void 0===a?void 0:a.startsWith("*")))throw"QueryParams.setQuery(): Query does not allow endsWith operator";return this.queryData=o,o}getAWSLambdaQuery(){const o=this.queryData;let t={query:"",att_names:"",att_values:""};return Object.keys(o).forEach(n=>{"string"==typeof o[n]&&(t.query?o[n].endsWith("*")?t.query+=` AND begins_with (#${n},:${n})`:t.query+=` AND #${n}=:${n}`:t.query=o[n].endsWith("*")?`begins_with (#${n},:${n})`:`#${n}=:${n}`),t.att_names?(t.att_names+=`,#${n}=${n}`,t.att_values+=`,:${n}=${o[n].replaceAll("*","")}`):(t.att_names=`#${n}=${n}`,t.att_values=`:${n}=${o[n].replaceAll("*","")}`)}),{query:t.query,att_names:t.att_names,att_values:t.att_values}}}class re{constructor(o){this.sys_class_name="expense",this.pk=o.pk||"",this.sk=o.sk||"",this.description=o.description||"",this.value=o.value||0,this.isPaid=o.isPaid||!1,this.originPk=o.originPk||o.pk||"",this.originSk=o.originSk||o.sk||"",this.created_at=(new Date).getTime().toString()}setExpenseKeys(o,t,n){this.pk="USER#"+o,this.sk=n+"#"+t+"#"+this.sys_class_name+"#"+(new Date).getTime(),this.originPk=this.pk,this.originSk=this.sk}}class Y extends re{constructor(o){super(o),this.sys_class_name="fixed_expense"}}class O extends re{constructor(o){super(o),this.sys_class_name="recurring_expense",this.start_month=o.start_month||"",this.start_year=o.start_year||"",this.installment=o.installment||1,this.isTotalAmmountPaid=!1}getCurrentInstallment(o,t,n){var a,r,s=this._getStartDate();return r=12*((a=o&&t?this._getDateByYearMonth(o,t):n||new Date).getFullYear()-s.getFullYear()),r-=s.getMonth(),(r+=a.getMonth()+1)<=0?0:r}getEndDateOfRecurringExpense(){var o=new Date;return(o=this._clearHourMinuteSeconds(o)).setFullYear(parseInt(this.start_year)),o.setMonth(parseInt(this.start_month)-1+this.installment),o}getTotalPrice(){return this.value*this.installment}isExpensePaid(o,t,n){let s=!1;return s=this.getCurrentInstallment(o,t,n)>this.installment||this._getCurrentDate().getTime()>=this.getEndDateOfRecurringExpense().getTime(),s}_getDateByYearMonth(o,t){var n=new Date;return(n=this._clearHourMinuteSeconds(n)).setFullYear(parseInt(o)),n.setMonth(parseInt(t)),n}_getStartDate(){var o=new Date;return(o=this._clearHourMinuteSeconds(o)).setFullYear(parseInt(this.start_year)),o.setMonth(parseInt(this.start_month)),o}_getCurrentDate(){var o=new Date;return this._clearHourMinuteSeconds(o)}_clearHourMinuteSeconds(o){return o.setHours(0),o.setMinutes(0),o.setSeconds(1),o}}class J extends re{constructor(o){super(o),this.sys_class_name="variable_expense"}}let E=(()=>{class i{constructor(t,n){this.cognito=t,this.db=n,this.year="",this.month="",console.log("ExpenseReaderLoaded!")}createNewMonth(t,n){this.db.databaseCreateCommon(t).subscribe(s=>{n.executionCallback("create:success",s)},s=>{n.executionCallback("create:failed",s)})}updateSTDMonthRecord(){}getMonthStandardRecords(){return this.db.databaseReadCommon(new ae({pk:this._buildPrimaryKeyHeader(),sk:"month-standard#*"}))}setYearMonth(t,n){this.year=t,this.month=n||""}getYearMonthExpenses(){if(!this.year)throw"Error in ExpenseService: Before use service you must provide at least 'year' value in 'setYear(year: string, month: string)' function";let t=this.year+"#";this.month&&(t+=this.month+"#"),t+="*";const n=new ae({pk:this._buildPrimaryKeyHeader(),sk:t});return this.db.databaseReadCommon(n)}getExpenseByOrigin(t,n){const s=new ae({originPk:t,originSk:n});return this.db.databaseReadSecondaryIndex(s,"originPk-originSk-index")}setExpensesTypes(t){let n=[],s=[],a=[];return t&&t.forEach(r=>{if(r.sk.includes("variable_expense")){let c=new J(r);n.push(c)}else if(r.sk.includes("fixed_expense")){let c=new Y(r);s.push(c)}else if(r.sk.includes("recurring_expense")){let c=new O(r);c.getCurrentInstallment(this.year,this.month)<=c.installment&&a.push(c)}}),[n,s,a]}createExpense(t,n){this.db.databaseCreateCommon(t).subscribe(s=>{n.executionCallback("create:success",s)},s=>{n.executionCallback("create:failed",s)})}impCreateExpense(t){return this.db.databaseCreateCommon(t)}impUpdateExpense(t){return this.db.databaseUpdateCommon(t)}impDeleteExpense(t,n){return this.db.databaseDeleteCommon({pk:t,sk:n})}updateExpense(t,n){this.db.databaseUpdateCommon(t).subscribe(s=>{n.executionCallback("update:success",s)},s=>{n.executionCallback("update:failed",s)})}deleteExpense(t,n,s){this.db.databaseDeleteCommon({pk:t,sk:n}).subscribe(a=>{null==s||s.executionCallback("delete:success",a)},a=>{null==s||s.executionCallback("delete:failed",a)})}_buildPrimaryKeyHeader(){return"USER#"+this.cognito.getUserData().sub.toString()}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(I.AP),e.LFG(ot))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),st=(()=>{class i{constructor(t){this._expenseServices=t}resolve(t,n){return this._expenseServices.getMonthStandardRecords()}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(E))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class S{constructor(o){this.sys_class_name="month-standard",this.pk=(null==o?void 0:o.pk)||"",this.sk=(null==o?void 0:o.sk)||"",this.income=(null==o?void 0:o.income)||0,this.expenseResume=(null==o?void 0:o.expenseResume)||0,this.isClosedMonth=(null==o?void 0:o.isClosedMonth)||!1,this.year=this.sk?this.sk.split("#")[1]:"",this.month=this.sk?this.sk.split("#")[2]:""}getYear(){return this.year}getMonth(){return this.month}getDateObject(){let o=new Date;return o.setMonth(parseInt(this.getMonth())-1),o.setFullYear(parseInt(this.getYear())),o}setMonthStdKeys(o,t,n){this.pk="USER#"+o,this.sk=this.sys_class_name+"#"+n+"#"+(t=1==t.length?"0"+t:t)+"#"}}var le=m(67399),k=m(81125),l=m(93075),v=m(48966),w=m(47423);function at(i,o){1&i&&e.GkF(0)}let rt=(()=>{class i{constructor(t,n){this.dialogData=t,this._dialog=n}ngOnInit(){}dismiss(){this._dialog.close()}onFormSubmit(t){!0===t&&this._dialog.close({reload:!0})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(v.WI),e.Y36(v.so))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],decls:5,vars:1,consts:[[1,"container","p-2"],[4,"ngTemplateOutlet"],[2,"float","right"],["mat-raised-button","","color","warn",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,at,1,0,"ng-container",1),e.qZA(),e.TgZ(2,"div",2),e.TgZ(3,"button",3),e.NdJ("click",function(){return n.dismiss()}),e._uU(4," Fechar "),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngTemplateOutlet",n.dialogData.template))},directives:[_.tP,w.lW],styles:[""]}),i})();var R=m(57261);let Q=(()=>{class i{constructor(){}getYearMonthPathParams(){let n=[];return n=window.location.pathname.replace("/expense/monthly/","").split("/"),[n[0],n[1]]}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var C=m(67322),U=m(77531),b=m(63191),g=m(90508),ye=m(76360),ke=m(99950),ve=m(17144);const lt=["input"],ct=function(i){return{enterDuration:i}},dt=["*"],ut=new e.OlP("mat-checkbox-default-options",{providedIn:"root",factory:we});function we(){return{color:"accent",clickAction:"check-indeterminate"}}let ht=0;const Ce=we(),mt={provide:l.JU,useExisting:(0,e.Gpc)(()=>Me),multi:!0};class pt{}const ft=(0,g.sb)((0,g.pj)((0,g.Kr)((0,g.Id)(class{constructor(i){this._elementRef=i}}))));let Me=(()=>{class i extends ft{constructor(t,n,s,a,r,c,d){super(t),this._changeDetectorRef=n,this._focusMonitor=s,this._ngZone=a,this._animationMode=c,this._options=d,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++ht,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new e.vpe,this.indeterminateChange=new e.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||Ce,this.color=this.defaultColor=this._options.color||Ce.color,this.tabIndex=parseInt(r)||0}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(t){this._required=(0,b.Ig)(t)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{t||Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(t){t!=this.checked&&(this._checked=t,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){const n=(0,b.Ig)(t);n!==this.disabled&&(this._disabled=n,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){const n=t!=this._indeterminate;this._indeterminate=(0,b.Ig)(t),n&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(t){let n=this._currentCheckState,s=this._elementRef.nativeElement;if(n!==t&&(this._currentAnimationClass.length>0&&s.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(n,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){s.classList.add(this._currentAnimationClass);const a=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{s.classList.remove(a)},1e3)})}}_emitChangeEvent(){const t=new pt;t.source=this,t.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(t),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked}_onInputClick(t){var n;const s=null===(n=this._options)||void 0===n?void 0:n.clickAction;t.stopPropagation(),this.disabled||"noop"===s?!this.disabled&&"noop"===s&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==s&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(t,n){t?this._focusMonitor.focusVia(this._inputElement,t,n):this._inputElement.nativeElement.focus(n)}_onInteractionEvent(t){t.stopPropagation()}_getAnimationClassForCheckStateTransition(t,n){if("NoopAnimations"===this._animationMode)return"";let s="";switch(t){case 0:if(1===n)s="unchecked-checked";else{if(3!=n)return"";s="unchecked-indeterminate"}break;case 2:s=1===n?"unchecked-checked":"unchecked-indeterminate";break;case 1:s=2===n?"checked-unchecked":"checked-indeterminate";break;case 3:s=1===n?"indeterminate-checked":"indeterminate-unchecked"}return`mat-checkbox-anim-${s}`}_syncIndeterminate(t){const n=this._inputElement;n&&(n.nativeElement.indeterminate=t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(ke.tE),e.Y36(e.R0b),e.$8M("tabindex"),e.Y36(ye.Qb,8),e.Y36(ut,8))},i.\u0275cmp=e.Xpm({type:i,selectors:[["mat-checkbox"]],viewQuery:function(t,n){if(1&t&&(e.Gf(lt,5),e.Gf(g.wG,5)),2&t){let s;e.iGM(s=e.CRH())&&(n._inputElement=s.first),e.iGM(s=e.CRH())&&(n.ripple=s.first)}},hostAttrs:[1,"mat-checkbox"],hostVars:12,hostBindings:function(t,n){2&t&&(e.Ikx("id",n.id),e.uIk("tabindex",null),e.ekj("mat-checkbox-indeterminate",n.indeterminate)("mat-checkbox-checked",n.checked)("mat-checkbox-disabled",n.disabled)("mat-checkbox-label-before","before"==n.labelPosition)("_mat-animation-noopable","NoopAnimations"===n._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[e._Bn([mt]),e.qOj],ngContentSelectors:dt,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(t,n){if(1&t&&(e.F$t(),e.TgZ(0,"label",0,1),e.TgZ(2,"span",2),e.TgZ(3,"input",3,4),e.NdJ("change",function(a){return n._onInteractionEvent(a)})("click",function(a){return n._onInputClick(a)}),e.qZA(),e.TgZ(5,"span",5),e._UZ(6,"span",6),e.qZA(),e._UZ(7,"span",7),e.TgZ(8,"span",8),e.O4$(),e.TgZ(9,"svg",9),e._UZ(10,"path",10),e.qZA(),e.kcU(),e._UZ(11,"span",11),e.qZA(),e.qZA(),e.TgZ(12,"span",12,13),e.NdJ("cdkObserveContent",function(){return n._onLabelTextChange()}),e.TgZ(14,"span",14),e._uU(15,"\xa0"),e.qZA(),e.Hsn(16),e.qZA(),e.qZA()),2&t){const s=e.MAs(1),a=e.MAs(13);e.uIk("for",n.inputId),e.xp6(2),e.ekj("mat-checkbox-inner-container-no-side-margin",!a.textContent||!a.textContent.trim()),e.xp6(1),e.Q6J("id",n.inputId)("required",n.required)("checked",n.checked)("disabled",n.disabled)("tabIndex",n.tabIndex),e.uIk("value",n.value)("name",n.name)("aria-label",n.ariaLabel||null)("aria-labelledby",n.ariaLabelledby)("aria-checked",n._getAriaChecked())("aria-describedby",n.ariaDescribedby),e.xp6(2),e.Q6J("matRippleTrigger",s)("matRippleDisabled",n._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",e.VKq(19,ct,"NoopAnimations"===n._animationMode?0:150))}},directives:[g.wG,ve.wD],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-ripple{outline:solid 3px}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}\n"],encapsulation:2,changeDetection:0}),i})(),Te=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})(),bt=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[g.si,g.BQ,ve.Q8,Te],g.BQ,Te]}),i})();var x=m(20449);const xt=["button"],yt=["*"],De=new e.OlP("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),Se=new e.OlP("MatButtonToggleGroup"),kt={provide:l.JU,useExisting:(0,e.Gpc)(()=>Ae),multi:!0};let Ee=0;class Re{constructor(o,t){this.source=o,this.value=t}}let Ae=(()=>{class i{constructor(t,n){this._changeDetector=t,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+Ee++,this.valueChange=new e.vpe,this.change=new e.vpe,this.appearance=n&&n.appearance?n.appearance:"standard"}get name(){return this._name}set name(t){this._name=t,this._buttonToggles&&this._buttonToggles.forEach(n=>{n.name=this._name,n._markForCheck()})}get vertical(){return this._vertical}set vertical(t){this._vertical=(0,b.Ig)(t)}get value(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t.map(n=>n.value):t[0]?t[0].value:void 0}set value(t){this._setSelectionByValue(t),this.valueChange.emit(this.value)}get selected(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t:t[0]||null}get multiple(){return this._multiple}set multiple(t){this._multiple=(0,b.Ig)(t)}get disabled(){return this._disabled}set disabled(t){this._disabled=(0,b.Ig)(t),this._buttonToggles&&this._buttonToggles.forEach(n=>n._markForCheck())}ngOnInit(){this._selectionModel=new x.Ov(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(t=>t.checked))}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_emitChangeEvent(){const t=this.selected,n=Array.isArray(t)?t[t.length-1]:t,s=new Re(n,this.value);this._controlValueAccessorChangeFn(s.value),this.change.emit(s)}_syncButtonToggle(t,n,s=!1,a=!1){!this.multiple&&this.selected&&!t.checked&&(this.selected.checked=!1),this._selectionModel?n?this._selectionModel.select(t):this._selectionModel.deselect(t):a=!0,a?Promise.resolve().then(()=>this._updateModelValue(s)):this._updateModelValue(s)}_isSelected(t){return this._selectionModel&&this._selectionModel.isSelected(t)}_isPrechecked(t){return void 0!==this._rawValue&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(n=>null!=t.value&&n===t.value):t.value===this._rawValue)}_setSelectionByValue(t){this._rawValue=t,this._buttonToggles&&(this.multiple&&t?(Array.isArray(t),this._clearSelection(),t.forEach(n=>this._selectValue(n))):(this._clearSelection(),this._selectValue(t)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(t=>t.checked=!1)}_selectValue(t){const n=this._buttonToggles.find(s=>null!=s.value&&s.value===t);n&&(n.checked=!0,this._selectionModel.select(n))}_updateModelValue(t){t&&this._emitChangeEvent(),this.valueChange.emit(this.value)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.sBO),e.Y36(De,8))},i.\u0275dir=e.lG2({type:i,selectors:[["mat-button-toggle-group"]],contentQueries:function(t,n,s){if(1&t&&e.Suo(s,Ze,5),2&t){let a;e.iGM(a=e.CRH())&&(n._buttonToggles=a)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(t,n){2&t&&(e.uIk("aria-disabled",n.disabled),e.ekj("mat-button-toggle-vertical",n.vertical)("mat-button-toggle-group-appearance-standard","standard"===n.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[e._Bn([kt,{provide:Se,useExisting:i}])]}),i})();const vt=(0,g.Kr)(class{});let Ze=(()=>{class i extends vt{constructor(t,n,s,a,r,c){super(),this._changeDetectorRef=n,this._elementRef=s,this._focusMonitor=a,this._isSingleSelector=!1,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new e.vpe;const d=Number(r);this.tabIndex=d||0===d?d:null,this.buttonToggleGroup=t,this.appearance=c&&c.appearance?c.appearance:"standard"}get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(t){this._appearance=t}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(t){const n=(0,b.Ig)(t);n!==this._checked&&(this._checked=n,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(t){this._disabled=(0,b.Ig)(t)}ngOnInit(){const t=this.buttonToggleGroup;this._isSingleSelector=t&&!t.multiple,this.id=this.id||"mat-button-toggle-"+Ee++,this._isSingleSelector&&(this.name=t.name),t&&(t._isPrechecked(this)?this.checked=!0:t._isSelected(this)!==this._checked&&t._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const t=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),t&&t._isSelected(this)&&t._syncButtonToggle(this,!1,!1,!0)}focus(t){this._buttonElement.nativeElement.focus(t)}_onButtonClick(){const t=!!this._isSingleSelector||!this._checked;t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new Re(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Se,8),e.Y36(e.sBO),e.Y36(e.SBq),e.Y36(ke.tE),e.$8M("tabindex"),e.Y36(De,8))},i.\u0275cmp=e.Xpm({type:i,selectors:[["mat-button-toggle"]],viewQuery:function(t,n){if(1&t&&e.Gf(xt,5),2&t){let s;e.iGM(s=e.CRH())&&(n._buttonElement=s.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(t,n){1&t&&e.NdJ("focus",function(){return n.focus()}),2&t&&(e.uIk("aria-label",null)("aria-labelledby",null)("id",n.id)("name",null),e.ekj("mat-button-toggle-standalone",!n.buttonToggleGroup)("mat-button-toggle-checked",n.checked)("mat-button-toggle-disabled",n.disabled)("mat-button-toggle-appearance-standard","standard"===n.appearance))},inputs:{disableRipple:"disableRipple",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[e.qOj],ngContentSelectors:yt,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(t,n){if(1&t&&(e.F$t(),e.TgZ(0,"button",0,1),e.NdJ("click",function(){return n._onButtonClick()}),e.TgZ(2,"span",2),e.Hsn(3),e.qZA(),e.qZA(),e._UZ(4,"span",3),e._UZ(5,"span",4)),2&t){const s=e.MAs(1);e.Q6J("id",n.buttonId)("disabled",n.disabled||null),e.uIk("tabindex",n.disabled?-1:n.tabIndex)("aria-pressed",n.checked)("name",n.name||null)("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledby),e.xp6(5),e.Q6J("matRippleTrigger",s)("matRippleDisabled",n.disableRipple||n.disabled)}},directives:[g.wG],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:transparent}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.cdk-high-contrast-active .mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:.5}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}.cdk-high-contrast-active .mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.5}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;-moz-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{border-radius:inherit;pointer-events:none;opacity:0;top:0;left:0;right:0;bottom:0;position:absolute}.mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 36px}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}\n"],encapsulation:2,changeDetection:0}),i})(),wt=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[g.BQ,g.si],g.BQ]}),i})();var Ct=m(42654),Mt=m(23753),Tt=m(92198);const Dt=["primaryValueBar"],St=(0,g.pj)(class{constructor(i){this._elementRef=i}},"primary"),Et=new e.OlP("mat-progress-bar-location",{providedIn:"root",factory:function(){const i=(0,e.f3M)(_.K0),o=i?i.location:null;return{getPathname:()=>o?o.pathname+o.search:""}}}),At=new e.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let Zt=0,Ft=(()=>{class i extends St{constructor(t,n,s,a,r){super(t),this._ngZone=n,this._animationMode=s,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new e.vpe,this._animationEndSubscription=Ct.w.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+Zt++;const c=a?a.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${c}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===s,r&&(r.color&&(this.color=this.defaultColor=r.color),this.mode=r.mode||this.mode)}get value(){return this._value}set value(t){this._value=Fe((0,b.su)(t)||0)}get bufferValue(){return this._bufferValue}set bufferValue(t){this._bufferValue=Fe(t||0)}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const t=this._primaryValueBar.nativeElement;this._animationEndSubscription=(0,Mt.R)(t,"transitionend").pipe((0,Tt.h)(n=>n.target===t)).subscribe(()=>{("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(ye.Qb,8),e.Y36(Et,8),e.Y36(At,8))},i.\u0275cmp=e.Xpm({type:i,selectors:[["mat-progress-bar"]],viewQuery:function(t,n){if(1&t&&e.Gf(Dt,5),2&t){let s;e.iGM(s=e.CRH())&&(n._primaryValueBar=s.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(t,n){2&t&&(e.uIk("aria-valuenow","indeterminate"===n.mode||"query"===n.mode?null:n.value)("mode",n.mode),e.ekj("_mat-animation-noopable",n._isNoopAnimation))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[e.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.O4$(),e.TgZ(1,"svg",1),e.TgZ(2,"defs"),e.TgZ(3,"pattern",2),e._UZ(4,"circle",3),e.qZA(),e.qZA(),e._UZ(5,"rect",4),e.qZA(),e.kcU(),e._UZ(6,"div",5),e._UZ(7,"div",6,7),e._UZ(9,"div",8),e.qZA()),2&t&&(e.xp6(3),e.Q6J("id",n.progressbarId),e.xp6(2),e.uIk("fill",n._rectangleFillValue),e.xp6(1),e.Q6J("ngStyle",n._bufferTransform()),e.xp6(1),e.Q6J("ngStyle",n._primaryTransform()))},directives:[_.PC],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),i})();function Fe(i,o=0,t=100){return Math.max(o,Math.min(t,i))}let It=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[_.ez,g.BQ],g.BQ]}),i})();const Ot=["genericDialog"];function qt(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-checkbox",7,8),e.NdJ("change",function(s){return e.CHM(t),e.oxw().checkboxBtnChange(s)}),e._uU(2,"M\xeas est\xe1 fechado?"),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("formControl",t._isClosedMonth)}}function Nt(i,o){if(1&i&&(e.TgZ(0,"mat-button-toggle",14),e.TgZ(1,"h4"),e._uU(2),e.qZA(),e.qZA()),2&i){const t=o.$implicit;e.s9C("value",t.value),e.xp6(2),e.hij(" ",t.label," ")}}function Pt(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-form-field",9),e.TgZ(1,"mat-label"),e._uU(2,"M\xeas"),e.qZA(),e.TgZ(3,"mat-button-toggle-group",10,11),e.NdJ("change",function(s){return e.CHM(t),e.oxw().groupBtnChange(s)}),e.YNc(5,Nt,3,2,"mat-button-toggle",12),e.qZA(),e._UZ(6,"input",13),e.qZA()}if(2&i){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.groupBtnValue),e.xp6(1),e.Q6J("hidden",!0)}}function Bt(i,o){if(1&i&&(e.TgZ(0,"h1",17),e._uU(1," Importando "),e.TgZ(2,"span"),e._uU(3),e.qZA(),e._uU(4," despesas. "),e.qZA()),2&i){const t=e.oxw(2);e.xp6(3),e.AsE("",t.count," de ",t.totalCount,"")}}function Gt(i,o){1&i&&(e.TgZ(0,"h1",17),e._uU(1," Pronto! M\xeas foi criado e despesas est\xe3o prontas. "),e.qZA())}function Yt(i,o){if(1&i&&e._UZ(0,"mat-progress-bar",18),2&i){const t=e.oxw(2);e.s9C("value",100*t.count/t.totalCount)}}function Ut(i,o){if(1&i&&(e.YNc(0,Bt,5,2,"h1",15),e.YNc(1,Gt,2,0,"h1",15),e.YNc(2,Yt,1,1,"mat-progress-bar",16)),2&i){const t=e.oxw();e.Q6J("ngIf",t.totalCount>0&&t.totalCount>t.count),e.xp6(1),e.Q6J("ngIf",t.totalCount>0&&t.totalCount==t.count||0==t.totalCount),e.xp6(1),e.Q6J("ngIf",t.totalCount>0&&t.totalCount!=t.count)}}let Ie=(()=>{class i{constructor(t,n,s,a,r){this.expenseService=t,this.cognito=n,this.snack=s,this.path=a,this.dialog=r,this.year="",this.month="",this.loading=!1,this.formValues={pk:"",sk:"",income:"",isClosedMonth:!1,month:"",year:""},this.groupBtnValue=[],this.onSubmitEvent=new e.vpe,this.count=0,this.totalCount=0,[this.year,this.month]=this.path.getYearMonthPathParams(),this.expenseService.setYearMonth(this.year,this.month)}ngOnInit(){this.groupBtnValue=this._buildCurrentTime(),this._isClosedMonth=new l.NI(this.formValues.isClosedMonth),this.buildExpenseForm()}createMonthStd(){var t;this.loading=!0;let n=new S(this.expenseForm.value);n.isClosedMonth=this._isClosedMonth.value;const s=null===(t=this.cognito.getUserData())||void 0===t?void 0:t.sub;n.pk||n.sk?this.expenseService.updateExpense(n,this):(n.setMonthStdKeys(s,this.expenseForm.value.month,this.expenseForm.value.year),this.expenseService.createExpense(n,this))}executeLastMonthImportation(t,n){var s,a;console.log(this.fixedExpenses),console.log(this.recurringExpenses),this.dialog.open(rt,{data:{template:this.content}}).afterClosed().subscribe(()=>{this.onSubmitEvent.emit({route:!0,month:this.expenseForm.value.month,year:this.expenseForm.value.year}),this.snack.open("M\xeas de referencia criado com sucesso!","X",{verticalPosition:"top",duration:5e3}),this.buildExpenseForm()}),this.totalCount=0,this.totalCount=this.fixedExpenses.length+this.recurringExpenses.length;let r=[],c=[];(null===(s=this.fixedExpenses)||void 0===s?void 0:s.length)>0&&this.fixedExpenses.forEach(d=>{let u=new Y(d);u.isPaid=!1,u.setExpenseKeys(this.cognito.getUserData().sub,t,n),this.expenseService.impCreateExpense(u).subscribe(()=>{this.count++,r.push({type:u.sys_class_name,description:u.description,value:u.value})},()=>{this.totalCount--,c.push({type:u.sys_class_name,description:u.description,value:u.value})})}),(null===(a=this.recurringExpenses)||void 0===a?void 0:a.length)>0&&(console.log(">>> month: "+t),this.recurringExpenses.forEach(d=>{let u=new Date;if(u.setMonth(parseInt(t)-1),u.setFullYear(parseInt(n)),u<=d.getEndDateOfRecurringExpense()&&1!=d.isTotalAmmountPaid){let h=new O(d),f=1==t.toString().length?"0"+t.toString():t.toString();h.isPaid=!1,h.setExpenseKeys(this.cognito.getUserData().sub,f,n),h.originPk=d.originPk,h.originSk=d.originSk,this.expenseService.impCreateExpense(h).subscribe(()=>{this.count++,r.push({type:h.sys_class_name,description:h.description,value:h.value})},()=>{this.totalCount--,c.push({type:h.sys_class_name,description:h.description,value:h.value})})}else this.totalCount--,c.push({type:d.sys_class_name,description:d.description,value:d.value})}))}groupBtnChange(t){const n=t.value.split("/");this.expenseForm.patchValue({month:n[0],year:n[1]}),console.log(t)}checkboxBtnChange(t){this.expenseForm.patchValue({isClosedMonth:t.checked}),console.log(t)}buildExpenseForm(){this.expenseForm=new l.cw({pk:new l.NI(this.formValues.pk),sk:new l.NI(this.formValues.sk),income:new l.NI(this.formValues.income,[l.kI.required,l.kI.min(.01)]),isClosedMonth:new l.NI(this.formValues.isClosedMonth),month:new l.NI(this.formValues.month,[l.kI.required]),year:new l.NI(this.formValues.year,[l.kI.required])})}_buildCurrentTime(){let t=new Date;t.setFullYear(parseInt(this.year)),t.setMonth(parseInt(this.month));let n=[];var s;return t.setMonth(t.getMonth()-2),s=1==(t.getMonth()+1).toString().length?"0"+(t.getMonth()+1):t.getMonth()+1,n.push({label:"M\xeas anterior",value:s+"/"+t.getFullYear()}),t.setMonth(t.getMonth()+1),s=1==(t.getMonth()+1).toString().length?"0"+(t.getMonth()+1):t.getMonth()+1,n.push({label:"M\xeas atual",value:s+"/"+t.getFullYear()}),t.setMonth(t.getMonth()+1),s=1==(t.getMonth()+1).toString().length?"0"+(t.getMonth()+1):t.getMonth()+1,n.push({label:"Proximo m\xeas",value:s+"/"+t.getFullYear()}),console.log(n),n}executionCallback(t,n){"create:success"==t?this.year==this.expenseForm.value.year&&parseInt(this.month)<parseInt(this.expenseForm.value.month)||this.year<this.expenseForm.value.year?this.executeLastMonthImportation(this.expenseForm.value.month,this.expenseForm.value.year):(this.onSubmitEvent.emit({route:!0,month:this.expenseForm.value.month,year:this.expenseForm.value.year}),this.snack.open("M\xeas de referencia criado com sucesso!","X",{verticalPosition:"top",duration:5e3}),this.buildExpenseForm()):"update:success"==t?(this.onSubmitEvent.emit(!0),this.snack.open("M\xeas de referencia atualizado!","X",{verticalPosition:"top",duration:5e3}),this.buildExpenseForm()):(alert("Ocorreu um erro ao criar despesa"),this.onSubmitEvent.emit(!1),console.warn(n)),this.loading=!1}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(E),e.Y36(I.AP),e.Y36(R.ux),e.Y36(Q),e.Y36(v.uw))},i.\u0275cmp=e.Xpm({type:i,selectors:[["form-month-standard"]],viewQuery:function(t,n){if(1&t&&e.Gf(Ot,5),2&t){let s;e.iGM(s=e.CRH())&&(n.content=s.first)}},inputs:{formValues:"formValues",fixedExpenses:"fixedExpenses",recurringExpenses:"recurringExpenses"},outputs:{onSubmitEvent:"onSubmitEvent"},decls:11,vars:7,consts:[[1,"row",3,"formGroup","submit"],["appearance","outline",1,"col-md-4"],["matInput","","placeholder","Valor do salario, pagamento PJ, qualquer entrada...","type","number","formControlName","income"],[3,"formControl","change",4,"ngIf"],["appearance","outline","floatLabel","always","class","col-md-4","value","month",4,"ngIf"],["mat-raised-button","","color","primary","type","submit",1,"w-100",3,"disabled"],["genericDialog",""],[3,"formControl","change"],["checkBox",""],["appearance","outline","floatLabel","always","value","month",1,"col-md-4"],[1,"w-100","col-md-4","m-b-2",3,"change"],["group","matButtonToggleGroup"],["class","w-100",3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","month",3,"hidden"],[1,"w-100",3,"value"],["class","text-center",4,"ngIf"],["mode","determinate",3,"value",4,"ngIf"],[1,"text-center"],["mode","determinate",3,"value"]],template:function(t,n){1&t&&(e.TgZ(0,"form",0),e.NdJ("submit",function(){return n.createMonthStd()}),e.TgZ(1,"mat-form-field",1),e.TgZ(2,"mat-label"),e._uU(3,"Entradas no m\xeas"),e.qZA(),e._UZ(4,"input",2),e.qZA(),e.YNc(5,qt,3,1,"mat-checkbox",3),e.YNc(6,Pt,7,2,"mat-form-field",4),e.TgZ(7,"button",5),e._uU(8),e.qZA(),e.qZA(),e.YNc(9,Ut,3,3,"ng-template",null,6,e.W1O)),2&t&&(e.Q6J("formGroup",n.expenseForm),e.xp6(5),e.Q6J("ngIf",n.expenseForm.value.pk&&n.expenseForm.value.sk),e.xp6(1),e.Q6J("ngIf",!n.expenseForm.value.pk&&!n.expenseForm.value.sk),e.xp6(1),e.ekj("spinner",n.loading),e.Q6J("disabled",!n.expenseForm.valid||n.loading),e.xp6(1),e.hij(" ",n.expenseForm.value.pk&&n.expenseForm.value.sk?"Atualizar":"Criar"," "))},directives:[l._Y,l.JL,l.sg,C.KE,C.hX,U.Nt,l.wV,l.Fj,l.JJ,l.u,_.O5,w.lW,Me,l.oH,Ae,_.sg,Ze,Ft],styles:['@keyframes spinner{to{transform:rotate(360deg)}}.spinner[_ngcontent-%COMP%]:before{content:"";box-sizing:border-box;position:absolute;top:50%;left:50%;width:20px;height:20px;margin-top:-10px;margin-left:-10px;border-radius:50%;border:2px solid #ffffff;border-top-color:#000;animation:spinner .8s linear infinite}'],changeDetection:0}),i})();var z=m(74107);function Vt(i,o){if(1&i&&(e.TgZ(0,"mat-option",10),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}const Ht=function(){return[1,2,3,4,5,6,7,8,9,10,11,12]};function Lt(i,o){1&i&&(e.TgZ(0,"mat-form-field",7),e.TgZ(1,"mat-label"),e._uU(2,"M\xeas"),e.qZA(),e.TgZ(3,"mat-select",8),e.YNc(4,Vt,2,2,"mat-option",9),e.qZA(),e.qZA()),2&i&&(e.xp6(4),e.Q6J("ngForOf",e.DdM(1,Ht)))}function Jt(i,o){if(1&i&&(e.TgZ(0,"mat-option",10),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}const Qt=function(){return[2021]};function zt(i,o){1&i&&(e.TgZ(0,"mat-form-field",7),e.TgZ(1,"mat-label"),e._uU(2,"Ano"),e.qZA(),e.TgZ(3,"mat-select",11),e.YNc(4,Jt,2,2,"mat-option",9),e.qZA(),e.qZA()),2&i&&(e.xp6(4),e.Q6J("ngForOf",e.DdM(1,Qt)))}let Oe=(()=>{class i{constructor(t,n,s,a){this.expenseService=t,this.cognito=n,this.snack=s,this.path=a,this.year="",this.month="",this.loading=!1,this.showDateOptions=!1,this.formValues={description:"",value:"",isPaid:!1},this.onSubmitEvent=new e.vpe}ngOnInit(){[this.year,this.month]=this.path.getYearMonthPathParams(),this._isPaid=new l.NI(this.formValues.isPaid,[l.kI.required]),this.buildExpenseForm()}createVariableExpense(){var t;this.loading=!0;const n=null===(t=this.cognito.getUserData())||void 0===t?void 0:t.sub;let s=new J(this.expenseForm.value);s.pk||s.sk?this.expenseService.updateExpense(s,this):(s.setExpenseKeys(n,this.expenseForm.value.month,this.expenseForm.value.year),this.expenseService.createExpense(s,this))}buildExpenseForm(){this.expenseForm=new l.cw({pk:new l.NI(this.formValues.pk),sk:new l.NI(this.formValues.sk),description:new l.NI(this.formValues.description,l.kI.required),value:new l.NI(this.formValues.value,[l.kI.required,l.kI.min(.01)]),month:new l.NI(this.month,[l.kI.required]),year:new l.NI(this.year,[l.kI.required]),isPaid:new l.NI(this.formValues.isPaid,[l.kI.required])})}checkboxBtnChange(t){this.expenseForm.patchValue({isPaid:t.checked})}executionCallback(t,n){"create:success"==t?(this.snack.open("Despesa foi contabilizada","X",{verticalPosition:"top",duration:5e3}),this.buildExpenseForm(),this.onSubmitEvent.emit(!0)):"update:success"==t?(this.snack.open("Despesa foi atualizada","X",{verticalPosition:"top",duration:5e3}),this.buildExpenseForm(),this.onSubmitEvent.emit(!0)):(alert("Ocorreu um erro ao criar despesa"),console.warn(n)),this.loading=!1}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(E),e.Y36(I.AP),e.Y36(R.ux),e.Y36(Q))},i.\u0275cmp=e.Xpm({type:i,selectors:[["form-variable-expense"]],inputs:{showDateOptions:"showDateOptions",formValues:"formValues"},outputs:{onSubmitEvent:"onSubmitEvent"},decls:13,vars:7,consts:[[1,"row",3,"formGroup","submit"],["appearance","outline",1,"col-md-8"],["matInput","","placeholder","Comprei 2 gatos","formControlName","description"],["appearance","outline",1,"col-md-4"],["matInput","","placeholder","190,65","type","number","formControlName","value"],["appearance","outline","class","col-6 col-xs-12 col-sm-6",4,"ngIf"],["mat-raised-button","","color","primary","type","submit",1,"w-100",3,"disabled"],["appearance","outline",1,"col-6","col-xs-12","col-sm-6"],["formControlName","month"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["formControlName","year","disable","true"]],template:function(t,n){1&t&&(e.TgZ(0,"form",0),e.NdJ("submit",function(){return n.createVariableExpense()}),e.TgZ(1,"mat-form-field",1),e.TgZ(2,"mat-label"),e._uU(3,"Descri\xe7\xe3o"),e.qZA(),e._UZ(4,"input",2),e.qZA(),e.TgZ(5,"mat-form-field",3),e.TgZ(6,"mat-label"),e._uU(7,"Valor"),e.qZA(),e._UZ(8,"input",4),e.qZA(),e.YNc(9,Lt,5,2,"mat-form-field",5),e.YNc(10,zt,5,2,"mat-form-field",5),e.TgZ(11,"button",6),e._uU(12),e.qZA(),e.qZA()),2&t&&(e.Q6J("formGroup",n.expenseForm),e.xp6(9),e.Q6J("ngIf",!0===n.showDateOptions),e.xp6(1),e.Q6J("ngIf",!0===n.showDateOptions),e.xp6(1),e.ekj("spinner",n.loading),e.Q6J("disabled",!n.expenseForm.valid||n.loading),e.xp6(1),e.hij(" ",n.expenseForm.value.pk&&n.expenseForm.value.sk?"Atualizar":"Criar"," "))},directives:[l._Y,l.JL,l.sg,C.KE,C.hX,U.Nt,l.Fj,l.JJ,l.u,l.wV,_.O5,w.lW,z.gD,_.sg,g.ey],styles:['@keyframes spinner{to{transform:rotate(360deg)}}.spinner[_ngcontent-%COMP%]:before{content:"";box-sizing:border-box;position:absolute;top:50%;left:50%;width:20px;height:20px;margin-top:-10px;margin-left:-10px;border-radius:50%;border:2px solid #ffffff;border-top-color:#000;animation:spinner .8s linear infinite}'],changeDetection:0}),i})();function jt(i,o){if(1&i&&(e.TgZ(0,"mat-option",10),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}const $t=function(){return[1,2,3,4,5,6,7,8,9,10,11,12]};function Xt(i,o){1&i&&(e.TgZ(0,"mat-form-field",7),e.TgZ(1,"mat-label"),e._uU(2,"M\xeas"),e.qZA(),e.TgZ(3,"mat-select",8),e.YNc(4,jt,2,2,"mat-option",9),e.qZA(),e.qZA()),2&i&&(e.xp6(4),e.Q6J("ngForOf",e.DdM(1,$t)))}function Wt(i,o){if(1&i&&(e.TgZ(0,"mat-option",10),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}const Kt=function(){return[2021]};function en(i,o){1&i&&(e.TgZ(0,"mat-form-field",7),e.TgZ(1,"mat-label"),e._uU(2,"Ano"),e.qZA(),e.TgZ(3,"mat-select",11),e.YNc(4,Wt,2,2,"mat-option",9),e.qZA(),e.qZA()),2&i&&(e.xp6(4),e.Q6J("ngForOf",e.DdM(1,Kt)))}let qe=(()=>{class i{constructor(t,n,s,a){this.expenseService=t,this.cognito=n,this.snack=s,this.path=a,this.year="",this.month="",this.loading=!1,this.showDateOptions=!1,this.formValues={pk:"",sk:"",description:"",value:"",isPaid:!1},this.onSubmitEvent=new e.vpe}ngOnInit(){[this.year,this.month]=this.path.getYearMonthPathParams(),this._isPaid=new l.NI(this.formValues.isPaid,[l.kI.required]),this.buildExpenseForm()}createVariableExpense(){var t;this.loading=!0;let n=new Y(this.expenseForm.value);const s=null===(t=this.cognito.getUserData())||void 0===t?void 0:t.sub;n.pk||n.sk?this.expenseService.updateExpense(n,this):(n.setExpenseKeys(s,this.expenseForm.value.month,this.expenseForm.value.year),this.expenseService.createExpense(n,this))}checkboxBtnChange(t){this.expenseForm.patchValue({isPaid:t.checked})}buildExpenseForm(){this.expenseForm=new l.cw({pk:new l.NI(this.formValues.pk),sk:new l.NI(this.formValues.sk),description:new l.NI(this.formValues.description,l.kI.required),value:new l.NI(this.formValues.value,[l.kI.required,l.kI.min(.01)]),month:new l.NI(this.month,[l.kI.required]),year:new l.NI(this.year,[l.kI.required]),isPaid:new l.NI(this.formValues.isPaid,[l.kI.required])})}executionCallback(t,n){"create:success"==t?(this.snack.open("Despesa foi contabilizada","X",{verticalPosition:"top",duration:5e3}),this.buildExpenseForm(),this.onSubmitEvent.emit(!0)):"update:success"==t?(this.snack.open("Despesa foi atualizada","X",{verticalPosition:"top",duration:5e3}),this.buildExpenseForm(),this.onSubmitEvent.emit(!0)):(alert("Ocorreu um erro ao criar despesa"),console.warn(n)),this.loading=!1}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(E),e.Y36(I.AP),e.Y36(R.ux),e.Y36(Q))},i.\u0275cmp=e.Xpm({type:i,selectors:[["form-fixed-expense"]],inputs:{showDateOptions:"showDateOptions",formValues:"formValues"},outputs:{onSubmitEvent:"onSubmitEvent"},decls:13,vars:7,consts:[[1,"row",3,"formGroup","submit"],["appearance","outline",1,"col-md-8"],["matInput","","placeholder","Comprei 2 gatos","formControlName","description"],["appearance","outline",1,"col-md-4"],["matInput","","placeholder","190,65","type","number","formControlName","value"],["appearance","outline","class","col-6 col-xs-12 col-sm-6",4,"ngIf"],["mat-raised-button","","color","primary","type","submit",1,"w-100",3,"disabled"],["appearance","outline",1,"col-6","col-xs-12","col-sm-6"],["formControlName","month"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["formControlName","year","disable","true"]],template:function(t,n){1&t&&(e.TgZ(0,"form",0),e.NdJ("submit",function(){return n.createVariableExpense()}),e.TgZ(1,"mat-form-field",1),e.TgZ(2,"mat-label"),e._uU(3,"Descri\xe7\xe3o"),e.qZA(),e._UZ(4,"input",2),e.qZA(),e.TgZ(5,"mat-form-field",3),e.TgZ(6,"mat-label"),e._uU(7,"Valor"),e.qZA(),e._UZ(8,"input",4),e.qZA(),e.YNc(9,Xt,5,2,"mat-form-field",5),e.YNc(10,en,5,2,"mat-form-field",5),e.TgZ(11,"button",6),e._uU(12),e.qZA(),e.qZA()),2&t&&(e.Q6J("formGroup",n.expenseForm),e.xp6(9),e.Q6J("ngIf",!0===n.showDateOptions),e.xp6(1),e.Q6J("ngIf",!0===n.showDateOptions),e.xp6(1),e.ekj("spinner",n.loading),e.Q6J("disabled",!n.expenseForm.valid||n.loading),e.xp6(1),e.hij(" ",n.expenseForm.value.pk&&n.expenseForm.value.sk?"Atualizar":"Criar"," "))},directives:[l._Y,l.JL,l.sg,C.KE,C.hX,U.Nt,l.Fj,l.JJ,l.u,l.wV,_.O5,w.lW,z.gD,_.sg,g.ey],styles:['@keyframes spinner{to{transform:rotate(360deg)}}.spinner[_ngcontent-%COMP%]:before{content:"";box-sizing:border-box;position:absolute;top:50%;left:50%;width:20px;height:20px;margin-top:-10px;margin-left:-10px;border-radius:50%;border:2px solid #ffffff;border-top-color:#000;animation:spinner .8s linear infinite}'],changeDetection:0}),i})();function tn(i,o){1&i&&(e.TgZ(0,"mat-form-field",9),e.TgZ(1,"mat-label"),e._uU(2,"Parcela"),e.qZA(),e._UZ(3,"input",10),e.qZA())}function nn(i,o){if(1&i&&(e.TgZ(0,"mat-option",14),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}const Ne=function(){return[1,2,3,4,5,6,7,8,9,10,11,12]};function on(i,o){1&i&&(e.TgZ(0,"mat-form-field",11),e.TgZ(1,"mat-label"),e._uU(2,"M\xeas de inicio"),e.qZA(),e.TgZ(3,"mat-select",12),e.YNc(4,nn,2,2,"mat-option",13),e.qZA(),e.qZA()),2&i&&(e.xp6(4),e.Q6J("ngForOf",e.DdM(1,Ne)))}function sn(i,o){if(1&i&&(e.TgZ(0,"mat-option",14),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}const an=function(){return[2021,2022]};function rn(i,o){1&i&&(e.TgZ(0,"mat-form-field",11),e.TgZ(1,"mat-label"),e._uU(2,"Ano de inicio"),e.qZA(),e.TgZ(3,"mat-select",15),e.YNc(4,sn,2,2,"mat-option",13),e.qZA(),e.qZA()),2&i&&(e.xp6(4),e.Q6J("ngForOf",e.DdM(1,an)))}function ln(i,o){if(1&i&&(e.TgZ(0,"mat-option",14),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function cn(i,o){1&i&&(e.TgZ(0,"mat-form-field",16),e.TgZ(1,"mat-label"),e._uU(2,"M\xeas"),e.qZA(),e.TgZ(3,"mat-select",17),e.YNc(4,ln,2,2,"mat-option",13),e.qZA(),e.qZA()),2&i&&(e.xp6(4),e.Q6J("ngForOf",e.DdM(1,Ne)))}function dn(i,o){if(1&i&&(e.TgZ(0,"mat-option",14),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}const un=function(){return[2021]};function hn(i,o){1&i&&(e.TgZ(0,"mat-form-field",16),e.TgZ(1,"mat-label"),e._uU(2,"Ano"),e.qZA(),e.TgZ(3,"mat-select",18),e.YNc(4,dn,2,2,"mat-option",13),e.qZA(),e.qZA()),2&i&&(e.xp6(4),e.Q6J("ngForOf",e.DdM(1,un)))}let Pe=(()=>{class i{constructor(t,n,s,a){this.expenseService=t,this.cognito=n,this.snack=s,this.path=a,this.year="",this.month="",this.loading=!1,this.showDateOptions=!1,this.monthStd={msg:"",data:[]},this.formValues={pk:"",sk:"",description:"",value:"",installment:1,isPaid:!1,originPk:"",originSk:""},this.onSubmitEvent=new e.vpe}ngOnInit(){[this.year,this.month]=this.path.getYearMonthPathParams(),this._isPaid=new l.NI(this.formValues.isPaid,[l.kI.required]),this.buildExpenseForm()}createRecurringExpense(){var t;this.loading=!0;let n=null===(t=this.cognito.getUserData())||void 0===t?void 0:t.sub;if(!this.monthStd.data){this.monthStd.data=[];let c=new S;c.setMonthStdKeys(n,this.month,this.year),this.monthStd.data.push(c)}let s=this.monthStd.data.map(c=>new S(c)),a=new O(this.expenseForm.value);if(a.pk||a.sk)if(1==a.installment)this.expenseService.updateExpense(a,this);else{let c=d=>{let u=0,h=0;d.forEach((f,p,D)=>{a.pk=f.pk,a.sk=f.sk,a.originPk=f.originPk,a.originSk=f.originSk,a.isPaid=f.isPaid,a.start_month=f.start_month,a.start_year=f.start_year,p+1==D.length?this.expenseService.updateExpense(a,this):this.expenseService.impUpdateExpense(a).subscribe(()=>{u++,h++},()=>{u++,h++}),u!=h&&(this.snack.open("Despesa n\xe3o pode ser atualizada com recorrencia :(","X",{verticalPosition:"top",duration:5e3}),this.buildExpenseForm(),this.onSubmitEvent.emit(!0))})};this.expenseService.getExpenseByOrigin(a.originPk,a.originSk).subscribe(d=>{c(d.data)},d=>{console.warn(d),alert("Um erro ocorreu ao buscar as informa\xe7\xf5es necessarias! Detalhes: recurringExp:getExpenseByOrigin:pk,sk")})}else{let c=new Date;c.setMonth(parseInt(this.expenseForm.value.month)-1),c.setFullYear(parseInt(this.expenseForm.value.year));var r={pk:"",sk:""};let d=new O({}),u=0,h=0;for(;c<=a.getEndDateOfRecurringExpense();){d=a;let f=1==(c.getMonth()+1).toString().length?"0"+(c.getMonth()+1).toString():(c.getMonth()+1).toString(),p=c.getFullYear().toString();console.log(s),s.some(B=>B.getMonth()==f&&B.getYear()==p)&&(d.setExpenseKeys(n,f,p),r.pk&&r.sk?(d.originPk=r.pk,d.originSk=r.sk):(r.pk=d.pk,r.sk=d.sk,d.originPk=r.pk,d.originSk=r.sk),c.setMonth(c.getMonth()+1),c<=a.getEndDateOfRecurringExpense()?(u++,h++,this.expenseService.createExpense(d,this)):this.expenseService.impCreateExpense(d).subscribe(()=>{u++,h++},()=>{u++}))}u!=h&&(this.snack.open("Despesa n\xe3o pode ser criada com recorrencia :(","X",{verticalPosition:"top",duration:5e3}),this.buildExpenseForm(),this.onSubmitEvent.emit(!0))}}checkboxBtnChange(t){this.expenseForm.patchValue({isPaid:t.checked})}buildExpenseForm(){this.expenseForm=new l.cw({pk:new l.NI(this.formValues.pk),sk:new l.NI(this.formValues.sk),description:new l.NI(this.formValues.description,l.kI.required),value:new l.NI(this.formValues.value,[l.kI.required,l.kI.min(.01)]),installment:new l.NI(this.formValues.installment,[l.kI.required,l.kI.min(1)]),start_month:new l.NI(parseInt(this.month),[l.kI.required]),start_year:new l.NI(parseInt(this.year),[l.kI.required]),originPk:new l.NI(this.formValues.originPk),originSk:new l.NI(this.formValues.originSk),month:new l.NI(this.month,[l.kI.required]),year:new l.NI(this.year,[l.kI.required]),isPaid:new l.NI(this.formValues.isPaid,[l.kI.required])})}executionCallback(t,n){"create:success"==t?(this.snack.open("Despesa foi contabilizada","X",{verticalPosition:"top",duration:5e3}),this.buildExpenseForm(),this.onSubmitEvent.emit(!0)):"update:success"==t?(this.snack.open("Despesa foi atualizada","X",{verticalPosition:"top",duration:5e3}),this.buildExpenseForm(),this.onSubmitEvent.emit(!0)):(alert("Ocorreu um erro ao criar despesa"),console.warn(n)),this.loading=!1}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(E),e.Y36(I.AP),e.Y36(R.ux),e.Y36(Q))},i.\u0275cmp=e.Xpm({type:i,selectors:[["form-recurring-expense"]],inputs:{showDateOptions:"showDateOptions",monthStd:"monthStd",formValues:"formValues"},outputs:{onSubmitEvent:"onSubmitEvent"},decls:16,vars:10,consts:[[1,"row",3,"formGroup","submit"],["appearance","outline",1,"col-md-8"],["matInput","","placeholder","Comprei 2 gatos","formControlName","description"],["appearance","outline",1,"col-md-4"],["matInput","","placeholder","190,65","type","number","formControlName","value"],["appearance","outline","class","col-12 col-sm-2",4,"ngIf"],["appearance","outline","class","col-6 col-xs-12 col-sm-5",4,"ngIf"],["appearance","outline","class","col-6 col-xs-12 col-sm-6",4,"ngIf"],["mat-raised-button","","color","primary","type","submit",1,"w-100",3,"disabled"],["appearance","outline",1,"col-12","col-sm-2"],["matInput","","placeholder","12","type","number","formControlName","installment"],["appearance","outline",1,"col-6","col-xs-12","col-sm-5"],["formControlName","start_month"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["formControlName","start_year"],["appearance","outline",1,"col-6","col-xs-12","col-sm-6"],["formControlName","month"],["formControlName","year","disable","true"]],template:function(t,n){1&t&&(e.TgZ(0,"form",0),e.NdJ("submit",function(){return n.createRecurringExpense()}),e.TgZ(1,"mat-form-field",1),e.TgZ(2,"mat-label"),e._uU(3,"Descri\xe7\xe3o"),e.qZA(),e._UZ(4,"input",2),e.qZA(),e.TgZ(5,"mat-form-field",3),e.TgZ(6,"mat-label"),e._uU(7,"Valor da parcela"),e.qZA(),e._UZ(8,"input",4),e.qZA(),e.YNc(9,tn,4,0,"mat-form-field",5),e.YNc(10,on,5,2,"mat-form-field",6),e.YNc(11,rn,5,2,"mat-form-field",6),e.YNc(12,cn,5,2,"mat-form-field",7),e.YNc(13,hn,5,2,"mat-form-field",7),e.TgZ(14,"button",8),e._uU(15),e.qZA(),e.qZA()),2&t&&(e.Q6J("formGroup",n.expenseForm),e.xp6(9),e.Q6J("ngIf",!n.formValues.pk),e.xp6(1),e.Q6J("ngIf",!n.formValues.pk),e.xp6(1),e.Q6J("ngIf",!n.formValues.pk),e.xp6(1),e.Q6J("ngIf",!0===n.showDateOptions),e.xp6(1),e.Q6J("ngIf",!0===n.showDateOptions),e.xp6(1),e.ekj("spinner",n.loading),e.Q6J("disabled",!n.expenseForm.valid||n.loading),e.xp6(1),e.hij(" ",n.expenseForm.value.pk&&n.expenseForm.value.sk?"Atualizar":"Criar"," "))},directives:[l._Y,l.JL,l.sg,C.KE,C.hX,U.Nt,l.Fj,l.JJ,l.u,l.wV,_.O5,w.lW,z.gD,_.sg,g.ey],styles:['@keyframes spinner{to{transform:rotate(360deg)}}.spinner[_ngcontent-%COMP%]:before{content:"";box-sizing:border-box;position:absolute;top:50%;left:50%;width:20px;height:20px;margin-top:-10px;margin-left:-10px;border-radius:50%;border:2px solid #ffffff;border-top-color:#000;animation:spinner .8s linear infinite}'],changeDetection:0}),i})(),mn=(()=>{class i{constructor(t,n){this._bottomSheetRef=t,this.data=n}ngOnInit(){}openLink(t){t.preventDefault()}onFormSubmit(t){console.log(t),!0===t?this._bottomSheetRef.dismiss({reload:!0}):!0===(null==t?void 0:t.route)&&this._bottomSheetRef.dismiss({reload:!0,goToRoute:!0,month:t.month,year:t.year})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(le.oL),e.Y36(le.OG))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],decls:21,vars:3,consts:[[3,"fixedExpenses","recurringExpenses","onSubmitEvent"],[3,"onSubmitEvent"],[3,"monthStd","onSubmitEvent"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-accordion"),e.TgZ(1,"mat-expansion-panel"),e.TgZ(2,"mat-expansion-panel-header"),e.TgZ(3,"mat-panel-title"),e._uU(4," Come\xe7ar um novo m\xeas "),e.qZA(),e.qZA(),e.TgZ(5,"form-month-standard",0),e.NdJ("onSubmitEvent",function(a){return n.onFormSubmit(a)}),e.qZA(),e.qZA(),e.TgZ(6,"mat-expansion-panel"),e.TgZ(7,"mat-expansion-panel-header"),e.TgZ(8,"mat-panel-title"),e._uU(9," Nova despesa vari\xe1vel "),e.qZA(),e.qZA(),e.TgZ(10,"form-variable-expense",1),e.NdJ("onSubmitEvent",function(a){return n.onFormSubmit(a)}),e.qZA(),e.qZA(),e.TgZ(11,"mat-expansion-panel"),e.TgZ(12,"mat-expansion-panel-header"),e.TgZ(13,"mat-panel-title"),e._uU(14," Nova despesa fixa "),e.qZA(),e.qZA(),e.TgZ(15,"form-fixed-expense",1),e.NdJ("onSubmitEvent",function(a){return n.onFormSubmit(a)}),e.qZA(),e.qZA(),e.TgZ(16,"mat-expansion-panel"),e.TgZ(17,"mat-expansion-panel-header"),e.TgZ(18,"mat-panel-title"),e._uU(19," Nova despesa recorrente "),e.qZA(),e.qZA(),e.TgZ(20,"form-recurring-expense",2),e.NdJ("onSubmitEvent",function(a){return n.onFormSubmit(a)}),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(5),e.Q6J("fixedExpenses",n.data.fixedExpenses)("recurringExpenses",n.data.recurringExpenses),e.xp6(15),e.Q6J("monthStd",n.data.monthStd))},directives:[k.pp,k.ib,k.yz,k.yK,Ie,Oe,qe,Pe],styles:["",".mat-expansion-panel-body[_ngcontent-%COMP%] {\n        padding: 0px !important;\n    }"]}),i})();function pn(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"form-variable-expense",1),e.NdJ("onSubmitEvent",function(s){return e.CHM(t),e.oxw().onFormSubmit(s)}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("formValues",t.data.expense)}}function fn(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"form-fixed-expense",1),e.NdJ("onSubmitEvent",function(s){return e.CHM(t),e.oxw().onFormSubmit(s)}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("formValues",t.data.expense)}}function gn(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"form-recurring-expense",1),e.NdJ("onSubmitEvent",function(s){return e.CHM(t),e.oxw().onFormSubmit(s)}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("formValues",t.data.expense)}}function _n(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"form-month-standard",1),e.NdJ("onSubmitEvent",function(s){return e.CHM(t),e.oxw().onFormSubmit(s)}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("formValues",t.data.expense)}}let Be=(()=>{class i{constructor(t,n){this.data=t,this._dialog=n}ngOnInit(){}onFormSubmit(t){!0===t&&this._dialog.close({reload:!0})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(v.WI),e.Y36(v.so))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],decls:4,vars:4,consts:[[3,"formValues","onSubmitEvent",4,"ngIf"],[3,"formValues","onSubmitEvent"]],template:function(t,n){1&t&&(e.YNc(0,pn,1,1,"form-variable-expense",0),e.YNc(1,fn,1,1,"form-fixed-expense",0),e.YNc(2,gn,1,1,"form-recurring-expense",0),e.YNc(3,_n,1,1,"form-month-standard",0)),2&t&&(e.Q6J("ngIf","variable_expense"==n.data.expense.sys_class_name),e.xp6(1),e.Q6J("ngIf","fixed_expense"==n.data.expense.sys_class_name),e.xp6(1),e.Q6J("ngIf","recurring_expense"==n.data.expense.sys_class_name),e.xp6(1),e.Q6J("ngIf","month-standard"==n.data.expense.sys_class_name))},directives:[_.O5,Oe,qe,Pe,Ie],styles:[""]}),i})();var Ge=m(25245);function bn(i,o){1&i&&(e.TgZ(0,"p",5),e.TgZ(1,"b"),e._uU(2,"Aten\xe7\xe3o: "),e.qZA(),e._uU(3,"Essa a\xe7\xe3o ir\xe1 deletar todas as despesas recorrentes associadas a esse registro!"),e.qZA())}const xn=function(i){return[i]};let Ye=(()=>{class i{constructor(t,n){this._dialog=t,this.data=n}ngOnInit(){console.log(this.data)}dismiss(){this._dialog.close()}deletionConfirmed(t){!0===t&&this._dialog.close({reload:!0,delete:!0})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(v.so),e.Y36(v.WI))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],decls:10,vars:8,consts:[[3,"expenseType","expenseList","year","month","hideActionBtn"],["style","color: red; margin-top: 5px; font-size: 14px;",4,"ngIf"],[1,"w-100","d-flex",2,"float","right","margin-top","15px"],["mat-raised-button","","color","warn",1,"m-auto",3,"click"],["mat-raised-button","","color","primary",1,"m-auto",3,"click"],[2,"color","red","margin-top","5px","font-size","14px"]],template:function(t,n){1&t&&(e.TgZ(0,"div"),e.TgZ(1,"h2"),e._uU(2," Voc\xea realmente deseja deletar a despesa abaixo? "),e.qZA(),e._UZ(3,"app-expense-viewer",0),e.YNc(4,bn,4,0,"p",1),e.TgZ(5,"div",2),e.TgZ(6,"button",3),e.NdJ("click",function(){return n.deletionConfirmed(!0)}),e._uU(7," Sim, quero deletar! "),e.qZA(),e.TgZ(8,"button",4),e.NdJ("click",function(){return n.dismiss()}),e._uU(9," Fechar "),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.Q6J("expenseType",n.data.expense.sys_class_name)("expenseList",e.VKq(6,xn,n.data.expense))("year",n.data.year)("month",n.data.month)("hideActionBtn",!0),e.xp6(1),e.Q6J("ngIf","recurring_expense"==n.data.expense.sys_class_name))},styles:[""]}),i})();const yn=["deleteDialogConfirm"];function kn(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-action-row"),e.TgZ(1,"button",6),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw(2).setAsPaid(s)}),e._uU(2),e.qZA(),e.TgZ(3,"button",7),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw(2).openEditDialog(s)}),e._uU(4,"Editar"),e.qZA(),e.TgZ(5,"button",8),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw(2).deleteConfirmDialog(s)}),e._uU(6,"Deletar"),e.qZA(),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("color",0==t.isPaid?"primary":""),e.xp6(1),e.Oqu(1==t.isPaid?"Despesa paga!":"Pago?")}}function vn(i,o){if(1&i&&(e.TgZ(0,"mat-expansion-panel"),e.TgZ(1,"mat-expansion-panel-header"),e.TgZ(2,"mat-panel-title",4),e.TgZ(3,"p"),e._uU(4),e.ALo(5,"slice"),e.qZA(),e.qZA(),e.TgZ(6,"mat-panel-title",4),e.TgZ(7,"p"),e._uU(8),e.ALo(9,"currency"),e.qZA(),e.qZA(),e.qZA(),e.YNc(10,kn,7,2,"mat-action-row",0),e.qZA()),2&i){const t=o.$implicit,n=e.oxw(2);e.xp6(2),e.Udp("text-decoration",!1===t.isPaid?"inherit":"line-through"),e.xp6(2),e.Oqu(e.Dn7(5,7,t.description,0,20)),e.xp6(2),e.Udp("color",!1===t.isPaid?"red":"black"),e.xp6(2),e.Oqu(e.lcZ(9,11,t.value)),e.xp6(2),e.Q6J("ngIf",0==n.hideActionBtn)}}function wn(i,o){if(1&i&&(e.TgZ(0,"div"),e.TgZ(1,"h2",1),e._uU(2),e.qZA(),e.TgZ(3,"mat-expansion-panel",2),e.TgZ(4,"mat-expansion-panel-header",3),e.TgZ(5,"mat-panel-title",4),e._uU(6," Descri\xe7\xe3o "),e.qZA(),e.TgZ(7,"mat-panel-title",4),e._uU(8," Valor "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"mat-accordion"),e.YNc(10,vn,11,13,"mat-expansion-panel",5),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(2),e.hij(" ","variable_expense"==t.expenseType?"Despesas variaveis":"Despesas fixas",""),e.xp6(8),e.Q6J("ngForOf",t.expenseList)}}function Cn(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-action-row"),e.TgZ(1,"button",6),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw(2).setAsPaid(s)}),e._uU(2),e.qZA(),e.TgZ(3,"button",10),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw(2).openEditDialog(s)}),e._uU(4,"Editar"),e.qZA(),e.TgZ(5,"button",11),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw(2).deleteConfirmDialog(s)}),e._uU(6,"Deletar"),e.qZA(),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("color",0==t.isPaid?"primary":""),e.xp6(1),e.Oqu(1==t.isPaid?"Despesa paga!":"Pago?")}}function Mn(i,o){if(1&i&&(e.TgZ(0,"mat-expansion-panel"),e.TgZ(1,"mat-expansion-panel-header"),e.TgZ(2,"mat-panel-title",9),e.TgZ(3,"p"),e._uU(4),e.ALo(5,"slice"),e.qZA(),e.qZA(),e.TgZ(6,"mat-panel-title",9),e.TgZ(7,"p"),e._uU(8),e.ALo(9,"currency"),e.qZA(),e.qZA(),e.TgZ(10,"mat-panel-title",9),e.TgZ(11,"p"),e._uU(12),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"div"),e.TgZ(14,"p"),e.TgZ(15,"b"),e._uU(16,"Descri\xe7\xe3o:"),e.qZA(),e._uU(17),e.qZA(),e.TgZ(18,"p"),e.TgZ(19,"b"),e._uU(20,"Valor:"),e.qZA(),e._uU(21),e.ALo(22,"currency"),e.qZA(),e.TgZ(23,"p"),e.TgZ(24,"b"),e._uU(25,"Parcelas atual:"),e.qZA(),e._uU(26),e.qZA(),e.TgZ(27,"p"),e.TgZ(28,"b"),e._uU(29,"Total parcelas:"),e.qZA(),e._uU(30),e.qZA(),e.TgZ(31,"p"),e.TgZ(32,"b"),e._uU(33,"Valor total:"),e.qZA(),e._uU(34),e.ALo(35,"currency"),e.qZA(),e.qZA(),e.YNc(36,Cn,7,2,"mat-action-row",0),e.qZA()),2&i){const t=o.$implicit,n=e.oxw(2);e.xp6(2),e.Udp("text-decoration",!1===t.isPaid?"inherit":"line-through"),e.xp6(2),e.Oqu(e.Dn7(5,13,t.description,0,20)),e.xp6(2),e.Udp("color",!1===t.isPaid?"red":"black"),e.xp6(2),e.Oqu(e.lcZ(9,17,t.value)),e.xp6(4),e.Oqu(t.getCurrentInstallment(n.year,n.month)),e.xp6(5),e.hij(" ",t.description,""),e.xp6(4),e.hij(" ",e.lcZ(22,19,t.value),""),e.xp6(5),e.hij(" ",t.getCurrentInstallment(n.year,n.month),""),e.xp6(4),e.hij(" ",t.installment,""),e.xp6(4),e.hij(" ",e.lcZ(35,21,t.getTotalPrice()),""),e.xp6(2),e.Q6J("ngIf",0==n.hideActionBtn)}}function Tn(i,o){if(1&i&&(e.TgZ(0,"div"),e.TgZ(1,"h2",1),e._uU(2,"Despesas recorrentes"),e.qZA(),e.TgZ(3,"mat-expansion-panel",2),e.TgZ(4,"mat-expansion-panel-header",3),e.TgZ(5,"mat-panel-title",9),e._uU(6," Descri\xe7\xe3o "),e.qZA(),e.TgZ(7,"mat-panel-title",9),e._uU(8," Valor "),e.qZA(),e.TgZ(9,"mat-panel-title",9),e._uU(10," Parcela atual "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"mat-accordion"),e.YNc(12,Mn,37,23,"mat-expansion-panel",5),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(12),e.Q6J("ngForOf",t.expenseList)}}let Ue=(()=>{class i{constructor(t,n,s){this.expenseService=t,this.snack=n,this.dialog=s,this.hideActionBtn=!1,this.expenseType="",this.expenseList=[],this.year="",this.month="",this.changeEvent=new e.vpe}ngOnInit(){}openEditDialog(t){"variable_expense"==t.sys_class_name?t=new J(t):"fixed_expense"==t.sys_class_name?t=new Y(t):"recurring_expense"==t.sys_class_name&&(t=new O(t)),this.dialog.open(Be,{data:{expense:t}}).afterClosed().subscribe(n=>{n&&!0===(null==n?void 0:n.reload)&&this.changeEvent.emit("update:success")})}setAsPaid(t){t.isPaid=1!=t.isPaid,this.expenseService.updateExpense(t,this)}deleteConfirmDialog(t){this.dialog.open(Ye,{data:{expense:t,year:this.year,month:this.month}}).afterClosed().subscribe(n=>{n&&!0===(null==n?void 0:n.delete)&&this.deleteExpense(t)})}deleteExpense(t){if("variable_expense"==t.sys_class_name?t=new J(t):"fixed_expense"==t.sys_class_name?t=new Y(t):"recurring_expense"==t.sys_class_name&&(t=new O(t)),"recurring_expense"!=t.sys_class_name)this.expenseService.deleteExpense(t.pk,t.sk,this);else if(1==t.installment)this.expenseService.updateExpense(t,this);else{let n=s=>{s.forEach((c,d,u)=>{c.pk=c.pk,c.sk=c.sk,c.originPk=c.originPk,c.originSk=c.originSk,c.isPaid=c.isPaid,console.log(c),d+1==u.length?this.expenseService.deleteExpense(c.pk,c.sk,this):this.expenseService.impDeleteExpense(c.pk,c.sk).subscribe(()=>{},()=>{})})};console.log(t),this.expenseService.getExpenseByOrigin(t.originPk,t.originSk).subscribe(s=>{n(s.data)},s=>{console.warn(s),alert("Um erro ocorreu ao buscar as informa\xe7\xf5es necessarias! Detalhes: expense:getExpenseByOrigin:pk,sk")})}}executionCallback(t,n){"delete:success"==t?(this.snack.open("Despesa foi apagada!","X"),this.changeEvent.emit("delete:success")):"update:success"==t?this.snack.open("Despesa foi atualizada!","X"):(alert("Ocorreu um erro ao criar despesa"),console.warn(n))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(E),e.Y36(R.ux),e.Y36(v.uw))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-expense-viewer"]],viewQuery:function(t,n){if(1&t&&e.Gf(yn,5),2&t){let s;e.iGM(s=e.CRH())&&(n.deleteDialogConfirm=s.first)}},inputs:{hideActionBtn:"hideActionBtn",expenseType:"expenseType",expenseList:"expenseList",year:"year",month:"month"},outputs:{changeEvent:"changeEvent"},decls:2,vars:2,consts:[[4,"ngIf"],[1,"text-center"],["disabled","",2,"border-radius","0px","border","0px","box-shadow","none"],[2,"color","black","cursor","inherit"],[2,"width","50%"],[4,"ngFor","ngForOf"],["mat-raised-button","",1,"m-auto",2,"width","33%",3,"color","click"],["mat-raised-button","","color","primary",1,"m-auto",2,"width","33%",3,"click"],["mat-raised-button","","color","warn",1,"m-auto",2,"width","33%",3,"click"],[2,"width","33%"],["mat-raised-button","","color","primary",1,"m-auto",2,"width","40%",3,"click"],["mat-raised-button","","color","warn",1,"m-auto",2,"width","40%",3,"click"]],template:function(t,n){1&t&&(e.YNc(0,wn,11,2,"div",0),e.YNc(1,Tn,13,1,"div",0)),2&t&&(e.Q6J("ngIf","fixed_expense"==n.expenseType||"variable_expense"==n.expenseType),e.xp6(1),e.Q6J("ngIf","recurring_expense"==n.expenseType))},directives:[_.O5,k.ib,k.yz,k.yK,k.pp,_.sg,k.VG,w.lW],pipes:[_.OU,_.H9],styles:[""]}),i})();var j=m(53251);function Dn(i,o){if(1&i&&(e.TgZ(0,"h2",13),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" Saldo: ",e.lcZ(2,1,t.currentMonth.income-t.fullExpenseValue)," ")}}function Sn(i,o){if(1&i&&(e.TgZ(0,"h2",16),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" Saldo: ",e.lcZ(2,1,t.currentMonth.income-t.fullExpenseValue)," ")}}function En(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",8),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return s.openEditDialog(s.currentMonth)}),e.TgZ(1,"table",9),e.TgZ(2,"tbody"),e.TgZ(3,"tr"),e.TgZ(4,"td",10),e.TgZ(5,"h1",11),e._uU(6),e.ALo(7,"uppercase"),e.ALo(8,"date"),e.ALo(9,"date"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"tr"),e.TgZ(11,"td"),e.TgZ(12,"h2",12),e._uU(13),e.ALo(14,"currency"),e.qZA(),e.qZA(),e.TgZ(15,"td"),e.TgZ(16,"h2",13),e._uU(17),e.ALo(18,"currency"),e.qZA(),e.qZA(),e.TgZ(19,"td"),e.YNc(20,Dn,3,3,"h2",14),e.YNc(21,Sn,3,3,"h2",15),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(6),e.AsE(" ",e.lcZ(7,6,e.xi3(8,8,t.getYearMonthDate(),"MMMM"))," ",e.xi3(9,11,t.getYearMonthDate(),"YYYY")," "),e.xp6(7),e.hij(" Entrada: ",e.lcZ(14,14,t.currentMonth.income)," "),e.xp6(4),e.hij(" Sa\xedda: ",e.lcZ(18,16,t.fullExpenseValue)," "),e.xp6(3),e.Q6J("ngIf",t.currentMonth.income-t.fullExpenseValue<0),e.xp6(1),e.Q6J("ngIf",t.currentMonth.income-t.fullExpenseValue>=0)}}function Rn(i,o){1&i&&(e.TgZ(0,"div"),e.TgZ(1,"h1",11),e._uU(2," Voc\xea deve iniciar o m\xeas primeiramente! "),e.qZA(),e.TgZ(3,"h2",11),e._uU(4," Use o bot\xe3o com simbolo "),e.TgZ(5,"b"),e._uU(6,'"+"'),e.qZA(),e._uU(7," para come\xe7ar! "),e.qZA(),e.qZA())}function An(i,o){1&i&&(e.TgZ(0,"div"),e.TgZ(1,"h2",11),e._uU(2,"N\xe3o h\xe1 resultados"),e.qZA(),e.qZA())}function Zn(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",17),e.TgZ(1,"div",18),e.TgZ(2,"app-expense-viewer",19),e.NdJ("changeEvent",function(){return e.CHM(t),e.oxw().getExpenses()}),e.qZA(),e.qZA(),e.TgZ(3,"div",18),e.TgZ(4,"app-expense-viewer",20),e.NdJ("changeEvent",function(){return e.CHM(t),e.oxw().getExpenses()}),e.qZA(),e.qZA(),e.TgZ(5,"div",18),e.TgZ(6,"app-expense-viewer",21),e.NdJ("changeEvent",function(){return e.CHM(t),e.oxw().getExpenses()}),e.qZA(),e.qZA(),e._UZ(7,"div",22),e.qZA()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("expenseList",t.variableExpenses)("year",t.year)("month",t.month),e.xp6(2),e.Q6J("expenseList",t.fixedExpenses)("year",t.year)("month",t.month),e.xp6(2),e.Q6J("expenseList",t.recurringExpenses)("year",t.year)("month",t.month)}}function Fn(i,o){if(1&i&&(e.TgZ(0,"div",26),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.AsE(" ",t.getMonth(),"/",t.getYear()," ")}}function In(i,o){1&i&&(e.TgZ(0,"mat-tab"),e.YNc(1,Fn,2,2,"ng-template",25),e.qZA())}function On(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-tab-group",23),e.NdJ("selectedTabChange",function(s){return e.CHM(t),e.oxw()._routeToMonth(s)}),e.YNc(1,In,2,0,"mat-tab",24),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("selectedIndex",t.initialYearIndex),e.xp6(1),e.Q6J("ngForOf",t.yearList)}}let qn=(()=>{class i{constructor(t,n,s,a,r,c){this.snack=t,this._bottomSheet=n,this.expenseService=s,this.route=a,this.router=r,this.dialog=c,this.year="",this.month="",this.yearList=[],this.initialYearIndex=0,this.currentMonth=new S,this.fullExpenseValue=4,this.monthStdList=[],this.expenses=[],this.variableExpenses=[],this.fixedExpenses=[],this.recurringExpenses=[]}ngOnInit(){this.route.data.subscribe(t=>{this.setMonthlyList(t)}),this.route.params.subscribe(t=>{this.year=t.year,this.month=t.month,this.expenseService.setYearMonth(this.year,this.month),this.yearList.forEach((n,s)=>{n.getMonth()==this.month&&n.getYear()==this.year&&(this.initialYearIndex=s,this.currentMonth=n)}),this.getExpenses()}),this.monthStdList=this.route.snapshot.data.monthStd}openEditDialog(t){t=new S(t),this.dialog.open(Be,{data:{expense:t}}).afterClosed().subscribe(n=>{n&&!0===(null==n?void 0:n.reload)&&(this.getExpenses(),this.getMonthList())})}openExpensesBottomSheet(){this._bottomSheet.open(mn,{data:{fixedExpenses:this.fixedExpenses,recurringExpenses:this.recurringExpenses,monthStd:this.monthStdList}}).afterDismissed().subscribe(t=>{t&&(!0===(null==t?void 0:t.reload)?(this.getExpenses(),this.getMonthList(),this.getExpensesFullValue()):!0===(null==t?void 0:t.goToRoute)&&(t.year==this.year&&t.month==this.month?(this.getExpenses(),this.getMonthList(),this.getExpensesFullValue()):this.router.navigate(["expense/monthly/"+t.year+"/"+t.month])))})}setMonthlyList(t){let n=[];(t=(null==t?void 0:t.monthStd)?t.monthStd:t).data.sort((a,r)=>(a=new S(a),r=new S(r),a.getDateObject().getTime()>r.getDateObject().getTime()?1:a.getDateObject().getTime()<r.getDateObject().getTime()?-1:0)).forEach(a=>{n.push(new S(a))}),this.yearList=n,this.yearList.forEach((a,r)=>{a.getMonth()==this.month&&a.getYear()==this.year&&(this.initialYearIndex=r,this.currentMonth=a)})}getExpensesFullValue(){var t;let n=0;(null===(t=this.expenses)||void 0===t?void 0:t.length)>0&&this.expenses.forEach(s=>{n+=s.value}),this.fullExpenseValue=n}getYearMonthDate(){let t=new Date;return t.setMonth(parseInt(this.month)-1),t.setFullYear(parseInt(this.year)),t}getExpenses(){this.expenseService.getYearMonthExpenses().subscribe(t=>{console.log(t.data),this.expenses=t.data,this.expenseService.setExpensesTypes(t.data),[this.variableExpenses,this.fixedExpenses,this.recurringExpenses]=this.expenseService.setExpensesTypes(this.expenses),this.getExpensesFullValue()})}getMonthList(){this.expenseService.getMonthStandardRecords().subscribe(t=>{this.setMonthlyList(t)})}_routeToMonth(t){this.router.navigate(["expense/monthly/"+this.yearList[t.index].getYear()+"/"+this.yearList[t.index].getMonth()])}executionCallback(t,n){"delete:success"==t?(this.snack.open("Despesa foi apagada!","X",{verticalPosition:"top",duration:5e3}),this.getExpenses()):"update:success"==t?this.getExpenses():(alert("Ocorreu um erro ao criar despesa"),console.warn(n))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(R.ux),e.Y36(le.ch),e.Y36(E),e.Y36(L.gz),e.Y36(L.F0),e.Y36(v.uw))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-monthly"]],decls:11,vars:5,consts:[[1,"w-100","p-1"],["class","m-2 p-2 border","style","border-radius: 15px",3,"click",4,"ngIf"],[4,"ngIf"],["class","d-flex",4,"ngIf"],[2,"height","40px"],["mat-stretch-tabs","","headerPosition","below",3,"selectedIndex","selectedTabChange",4,"ngIf"],[2,"position","fixed","right","20px","bottom","60px",3,"click"],["mat-fab","","color","primary"],[1,"m-2","p-2","border",2,"border-radius","15px",3,"click"],[1,"w-100"],["colspan","3"],[1,"text-center"],[1,"text-center",2,"color","green"],[1,"text-center",2,"color","red"],["class","text-center","style","color: red",4,"ngIf"],["class","text-center","style","color: blue",4,"ngIf"],[1,"text-center",2,"color","blue"],[1,"d-flex"],[1,"m-2","p-2","border",2,"border-radius","15px","width","33%"],["expenseType","variable_expense",3,"expenseList","year","month","changeEvent"],["expenseType","fixed_expense",3,"expenseList","year","month","changeEvent"],["expenseType","recurring_expense",3,"expenseList","year","month","changeEvent"],[2,"height","80px"],["mat-stretch-tabs","","headerPosition","below",3,"selectedIndex","selectedTabChange"],[4,"ngFor","ngForOf"],["mat-tab-label",""],[1,"cs-tab-label"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,En,22,18,"div",1),e.YNc(2,Rn,8,0,"div",2),e.YNc(3,An,3,0,"div",2),e.YNc(4,Zn,8,9,"div",3),e.qZA(),e._UZ(5,"div",4),e.YNc(6,On,2,2,"mat-tab-group",5),e.TgZ(7,"div",6),e.NdJ("click",function(){return n.openExpensesBottomSheet()}),e.TgZ(8,"button",7),e.TgZ(9,"mat-icon"),e._uU(10,"add"),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",n.currentMonth.pk&&n.currentMonth.sk),e.xp6(1),e.Q6J("ngIf",!n.currentMonth.pk&&!n.currentMonth.sk),e.xp6(1),e.Q6J("ngIf",!n.expenses),e.xp6(1),e.Q6J("ngIf",n.expenses),e.xp6(2),e.Q6J("ngIf",n.yearList))},directives:[_.O5,w.lW,Ge.Hw,Ue,j.SP,_.sg,j.uX,j.uD],pipes:[_.gd,_.uU,_.H9],styles:[".example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}span.mat-tab-title[_ngcontent-%COMP%]{text-align:center;width:100%}.cs-tab-label[_ngcontent-%COMP%]{display:grid}.tab-icon[_ngcontent-%COMP%]{margin:auto}[_nghost-%COMP%]     .mat-tab-header{width:100%;position:fixed!important;bottom:0px;background-color:#fff}"]}),i})();const Nn=[{path:"",pathMatch:"full",redirectTo:(new Date).getFullYear()+"/"+((new Date).getMonth()+1)},{path:":year/:month",component:qn,resolve:{monthStd:st}}];let Pn=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[L.Bz.forChild(Nn)],L.Bz]}),i})();m(5529),m(5254),m(591),m(32916),m(21086),m(7625),m(72986),m(50226),m(70925);var Le=m(2033);let si=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[Le.Cl]]}),i})(),vi=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[si,g.BQ],g.BQ]}),i})(),Ti=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[g.uc,g.BQ],g.uc,g.BQ]}),i})();var Di=m(34594);let Si=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[_.ez,Pn,l.u5,l.UX,C.lN,j.Nh,Di.g0,g.Ng,z.LD,U.c,vi,Ge.Ps,w.ot,R.ZX,k.To,Ti,wt,v.Is,bt,It]]}),i})();e.B6R(Ye,[Ue,_.O5,w.lW],[])}}]);